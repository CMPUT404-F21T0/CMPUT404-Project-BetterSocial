{% extends 'bettersocial/base.html' %}
{% block content %}
{% load static %}
<!-- Style Sheet and References -->
<link rel="stylesheet" type="text/css" href="{% static 'bettersocial/profile.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'bettersocial/index.css' %}">

    <div class="profile">
        <div class="profile-header">
            <div class="profile-pic">
                <span class="iconify" data-icon="healthicons:ui-user-profile-outline" data-width="150" data-height="150"></span>
            </div>

            <div class="profile-info">
                    <h1> {{ current_user.display_name }}</h1>
                    {{ current_user.user.username }}
                    <!-- <p>Email: johndoe@gmail.com</p> -->
                    <p>Github: <a href="{{ current_user.user.github_url }}">{{ current_user.user.github_url }}</a></p>
                    <!-- <p>Bio: This is a John Doe's bio</p> -->
            </div>
            <!-- TODO: connect friends list to friend button -->
            <div class="profile-friend-btn">
                <button>Friends</button>
                {% if user.author.uuid == current_user.uuid %}
                    <button>Edit Profile</button>
                <!-- TODO: if user alreading following? show unfollow -->
                {% else %}
                    <button>Follow</button>
                {% endif %}
            </div>
        </div>


    {% for post in posts %}    
        <div class="profile-post">
            <div class="post-header">
                <!-- TODO: add if user has profile pic show pic if not show icon -->
                <!-- TODO: should change href to user profile link -->
                <div class="left">
                    <a href="{% url 'bettersocial:profile' post.author.uuid %}">
                        <span class="iconify" data-icon="iconoir:profile-circled" data-width="42" data-height="42"></span>
                    </a>
                    <!-- TODO: should change href to user profile link -->
                    <a href="{% url 'bettersocial:profile' post.author.uuid %}">
                        <h3>{{ post.author.user.username }}</h3>
                    </a>
                </div>

                <!-- TODO: change the link to be dynamically added and href -->
                <div class="right">
                    <p>{{post.published}}</p>
                    <!-- is it source or origin? -->
                    <a href="{{post.source}}">{{post.source}}</a>
                </div>
            </div>

            
            <!-- TODO: add logic for content-type of post -->
            <div class="post-container">
                <h2>{{post.title}}</h2>
                <p>{{post.description}}</p>
                {{ post.content }}
            </div>

            <div class="post-footer right">
                    <!-- TODO: Edit href for share post -->
                    <a href="">
                        <span class="iconify" data-icon="bi:share" data-width="30" data-height="30"></span>
                    </a>
                <a class="icon-text" href="">Share Post</a>
                    <!-- TODO: Edit href for share likes and dynamically add number of likes -->
                    <!-- TODO: Pluralize likes  -->
                    <a href="">
                        <span class="iconify" data-icon="ant-design:like-outlined" data-width="30" data-height="30"></span>
                    </a>
                <a class="icon-text" href="">Likes</a>
                    <!-- TODO: Edit href for comments and dynamically add number of comments -->
                    <!-- TODO: Pluralize comments  -->
                    <a href="">
                        <span class="iconify" data-icon="ant-design:comment-outlined" data-width="30" data-height="30"></span>
                    </a>
                <a class="icon-text" href="">Comments</a>
            </div>

        {% endfor %}

    </div>
{% endblock %}
